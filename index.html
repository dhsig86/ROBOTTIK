<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <title>ROBOTTO – Triagem Otorrino</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="./assets/otto-256.png" />
    <!-- no <head> do index.html e pages/triage-chat.html -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/@picocss/pico@2/css/pico.min.css"
    />

    <style>
      :root {
        --bg: #0f172a;
        --panel: #111827;
        --muted: #94a3b8;
        --text: #e5e7eb;
        --accent: #22d3ee;
        --ok: #34d399;
        --warn: #f59e0b;
        --danger: #ef4444;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: linear-gradient(180deg, #0b1220 0%, #121a2e 100%);
        color: var(--text);
        font:
          14px/1.4 system-ui,
          Segoe UI,
          Roboto,
          Arial,
          sans-serif;
      }
      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
      }
      header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 16px;
      }
      header img {
        width: 40px;
        height: 40px;
      }
      header h1 {
        font-size: 18px;
        margin: 0;
        font-weight: 600;
      }
      .grid {
        display: grid;
        grid-template-columns: 360px 1fr;
        gap: 16px;
      }
      .card {
        background: rgba(17, 24, 39, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 12px;
        backdrop-filter: blur(6px);
      }
      .card .hd {
        padding: 12px 14px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.14);
        font-weight: 600;
      }
      .card .bd {
        padding: 14px;
      }
      fieldset {
        border: 0;
        margin: 0 0 12px 0;
        padding: 0;
      }
      .row {
        display: flex;
        gap: 8px;
        margin-bottom: 8px;
      }
      .row > * {
        flex: 1;
      }
      label {
        display: block;
        font-size: 12px;
        color: var(--muted);
        margin-bottom: 6px;
      }
      input[type="text"],
      input[type="number"],
      select,
      textarea {
        width: 100%;
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid rgba(148, 163, 184, 0.3);
        background: #0b1220;
        color: var(--text);
        outline: none;
      }
      textarea {
        min-height: 76px;
        resize: vertical;
      }
      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        border-radius: 999px;
        margin: 4px 6px 0 0;
        cursor: pointer;
      }
      .pill input {
        accent-color: var(--accent);
      }
      .actions {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 8px;
      }
      button {
        border: 0;
        border-radius: 10px;
        padding: 10px 14px;
        background: #172554;
        color: #e5e7eb;
        cursor: pointer;
        border: 1px solid rgba(94, 234, 212, 0.15);
      }
      button.primary {
        background: #0f766e;
        border-color: rgba(16, 185, 129, 0.25);
      }
      button.warn {
        background: #7c2d12;
        border-color: rgba(245, 158, 11, 0.25);
      }
      .muted {
        color: var(--muted);
      }
      .tags {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
      }
      .tag {
        font-size: 12px;
        padding: 4px 8px;
        border-radius: 999px;
        background: #0b1220;
        border: 1px solid rgba(148, 163, 184, 0.18);
        color: #cbd5e1;
      }
      .kpi {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin: 8px 0;
      }
      .kpi .box {
        background: #0b1220;
        border: 1px solid rgba(148, 163, 184, 0.18);
        border-radius: 10px;
        padding: 8px 10px;
      }
      .rank li {
        margin-bottom: 6px;
      }
      .alarmes li {
        margin-bottom: 4px;
      }
      .via {
        font-weight: 600;
      }
      .ok {
        color: var(--ok);
      }
      .warn {
        color: var(--warn);
      }
      .danger {
        color: var(--danger);
      }
      .footer {
        margin-top: 12px;
        font-size: 12px;
        color: var(--muted);
      }
      @media (max-width: 960px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <img src="./assets/otto-256.png" alt="Otto" />
        <h1>ROBOTTO – Triagem Otorrino</h1>
        <div class="muted">MVP</div>
      </header>

      <div class="grid">
        <div class="card">
          <div class="hd">Entrada</div>
          <div class="bd">
            <fieldset>
              <div class="row">
                <div>
                  <label>Nome</label>
                  <input id="in_nome" type="text" placeholder="Opcional" />
                </div>
                <div>
                  <label>Idade</label>
                  <input
                    id="in_idade"
                    type="number"
                    min="0"
                    max="120"
                    placeholder="anos"
                  />
                </div>
                <div>
                  <label>Sexo</label>
                  <select id="in_sexo">
                    <option value="">—</option>
                    <option value="F">F</option>
                    <option value="M">M</option>
                  </select>
                </div>
              </div>
            </fieldset>

            <fieldset>
              <label>Áreas (impacta os sintomas sugeridos)</label>
              <div id="areaPills"></div>
            </fieldset>

            <fieldset>
              <label>Sintomas sugeridos (por áreas selecionadas)</label>
              <div id="symptomsBox"></div>
            </fieldset>

            <fieldset>
              <label>Texto livre (queixa / HPI)</label>
              <textarea
                id="in_text"
                placeholder="Ex.: Há 3 dias: coriza, leve dor de garganta, ouvido tampado."
              ></textarea>
            </fieldset>

            <div class="actions">
              <button id="btnTriar" class="primary">Triar</button>
              <button id="btnLimpar">Limpar</button>
              <button id="btnSalvar">Salvar caso</button>
              <button id="btnExportar" class="warn">
                Exportar relatório (MD)
              </button>
            </div>
            <div id="toast" class="footer"></div>
          </div>
        </div>

        <div class="card">
          <div class="hd">Resultados</div>
          <div class="bd" id="resultPane">
            <div class="muted">
              Preencha os campos e clique em <b>Triar</b>.
            </div>
          </div>
        </div>
      </div>

      <div class="footer muted">© ROBOTTO</div>
    </div>

    <script type="module" src="./main.js"></script>
  </body>
</html>
